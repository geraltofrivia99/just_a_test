import phones from './mockPhones'
import * as R from 'ramda'
import catigories from './mockCatigories'
import request from 'superagent'


export const fetchPhones = async (offset=0, limit=13) => {

    const {body} = await request.get(
      'http://localhost:8080/phones',
        {limit, offset}
    )
    console.log('body',body); // Array(13)
    return body
  }

//   export const fetchCat = async (cat) => {
//       const {body} = await request.get(
//           `http://localhost:8080/phones/${cat}`
//       )
//       console.log('CATBODY', body)
//       return body
//   }
// export const fetchPhones = async () => {
//   const {body} = await request.get(
//     'http://localhost:8080/phones'
//   )
//   return body
// }
// export const fetchPhones = async () => {
//     const Phones = await request.get(
//         'http://localhost:8080/phones'
//     )
//     console.log(Phones)
//     return Phones.body
// }

export const loadMorePhones = async (offset) => {
    return new Promise((resolve) => {
        resolve(fetchPhones(offset.offset))
        
    })
}

export const fetchPhoneById = async id => {
    const phones = await fetchPhones()
    return new Promise((resolve, reject) => {
        const phone = R.find(R.propEq('id', id), phones)
        resolve(phone)
    })
}

export const fetchCatigories = async () => {
    return new Promise((resolve, reject) => {
        resolve(catigories)
    })
}



